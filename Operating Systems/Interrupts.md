# Interrupts
#COMP1211 #COMP2211 
- Computers provide a mechanism by which other modules may interrupt the normal processing sequence
- Interrupts allow the [CPU](../Hardware/CPU.md) to work, pausing to service external devices only when they signal that they require attention
- The processor and operating system are responsible for suspending and resuming the user program appropriately
## Types of Interrupts
- Program
	e.g. overflow, division by zero
- Timer
	Generated by internal processor timer
- I/O
	An I/O controller signals operation completion
- Hardware failure
	e.g. power failure, memory parity error.
## Program Flow Control
![[../Hardware/COMP1211-ComputerArchitecture/Images/Program_Flow_Control.png]]
	Program flow control with and without interrupts
- By using interrupts programs can run simultaneously
- Main program doesn't have to wait for replies so can run at the same time while external commands and data is collected
- If the CPU has to wait for a task to complete from another part of the system (eg memory or I/O) then it can do other tasks and then the system will send an interrupt to continue running the program
## Nested vs sequential Interrupts
- Sequential interrupts wait for the previous interrupt to finish before starting the next interrupt
- Nested interrupts are able to interrupt other interrupts
## Interrupt cycle
- If there’s no interrupt, fetch the next instruction.
- If an interrupt is pending:
	- suspend execution of the current program and save its“state”;
	- set the PC to the start address of the interrupt handler routine and process the interrupt;
	- restore the previous state and continue the interrupted program.
![[../Hardware/COMP1211-ComputerArchitecture/Images/Interupt_Cycle.png]]
